<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Tree View for PLC Images -->
    <record id="plc_image_tree" model="ir.ui.view">
        <field name="name">plc.image.tree</field>
        <field name="model">plc.image</field>
        <field name="arch" type="xml">
            <tree>
                <field name="file_name"/>
                <field name="captured_at"/>
                <field name="part_name"/>
                <field name="camera_location"/>
                <field name="resolution"/>
                <field name="image_url" widget="image" alt="Preview" width="64" height="64"/>
            </tree>
        </field>
    </record>

    <!-- Form View for Single Image -->
    <record id="plc_image_form" model="ir.ui.view">
        <field name="name">plc.image.form</field>
        <field name="model">plc.image</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group>
                        <field name="file_name"/>
                        <field name="file_type"/>
                        <field name="image_size"/>
                        <field name="captured_at"/>
                    </group>
                    <group string="Part Information">
                        <field name="part_name"/>
                        <field name="part_number"/>
                    </group>
                    <group string="Camera Information">
                        <field name="camera_model"/>
                        <field name="camera_location"/>
                    </group>
                    <group string="Capture Settings">
                        <field name="resolution"/>
                        <field name="capture_mode"/>
                    </group>
                    <group string="Notes">
                        <field name="notes"/>
                    </group>
                    <group>
                        <field name="image_url" widget="image" alt="Image" class="oe_avatar"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Inherit Product Form -->
    <record id="product_product_view_form_inherit_plc" model="ir.ui.view">
        <field name="name">product.product.form.inherit.plc</field>
        <field name="model">product.product</field>
        <field name="inherit_id" ref="product.product_normal_form_view"/>
        <field name="arch" type="xml">
            <xpath expr="//notebook" position="inside">
                <page name="plc_images" string="PLC Images">
                    <field name="plc_images" mode="tree,form">
                        <tree default_order="captured_at desc">
                            <field name="file_name"/>
                            <field name="captured_at"/>
                            <field name="part_name"/>
                            <field name="camera_location"/>
                            <field name="resolution"/>
                            <field name="image_url" widget="image" alt="Preview" width="64" height="64"/>
                        </tree>
                        <form>
                            <field name="plc_images" mode="form"/>
                        </form>
                    </field>
                    <footer>
                        <button name="action_fetch_images" type="object"
                                string="Fetch Images from PLC" class="btn-primary"/>
                    </footer>
                </page>
            </xpath>
        </field>
    </record>
</odoo>